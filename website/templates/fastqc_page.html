{% extends "base.html"%}

{% block head %}
<title>fastqc page</title>
{% endblock %}


{% block header %}
    <section class="sub-header">
       <h1>FastQC tool</h1>
   </section>
{% endblock%}

{% block body %}

   <!--tool info tekst en plaatje in 2 kolommen-->
   <section class="tool_info">
       <h3>Settings for the FastQC tool</h3>
            <p>Please enter all your desired test methods in the following form.
                <br /> Set the corresponding limits to your desire and upload your file.</p>
       <div class="row">
           <div class="tool-col1">
               <form class="tests" action="/fastqc" method="post">
                   <ul>
                       <li>
                       <input type="checkbox" id="duplication" name="duplication"
                              onclick="showLimits('duplication_limits', 'duplication', 'duplication_text')" >
                      <label for="duplication">Duplicate sequences</label><br />
                           <ul style="display:none" id="duplication_limits">
                               <li>
                                   <label for="duplication"><input type="number" value="70" step="any"
                                                 class="limits" name="duplication">warning</label>
                               </li><br />
                               <li>
                                   <label for="duplication"><input type="number" value="50" step="any"
                                                 class="limits" name="duplication">error</label>
                               </li><br />
                           </ul>
                       </li>
                       <li>
                      <input type="checkbox" id="kmer" name="kmer"
                             onclick="showLimits('kmer_limits', 'kmer', 'kmer_text')" >
                      <label for="kmer">Kmer content</label><br />
                           <ul style="display: none" id="kmer_limits">
                               <li>
                                   <label for="kmer"><input type="number" value="2" step="any"
                                                 class="limits">warning</label>
                               </li><br />
                               <li>
                                   <label for="kmer"><input type="number" value="5" step="any"
                                                 class="limits">error</label>
                               </li><br />
                           </ul>
                       </li>
                       <li>
                      <input type="checkbox" id="n_content" name="n_content"
                             onclick="showLimits('n_content_limits', 'n_content', 'n_content_text')">
                      <label for="n_content">Per base N content</label><br />
                           <ul style="display: none" id="n_content_limits">
                               <li>
                                   <label for="n_content"><input type="number" value="5" step="any"
                                                 class="limits">warning</label>
                               </li><br />
                               <li>
                                   <label for="n_content"><input type="number" value="20" step="any"
                                                 class="limits">error</label>
                               </li><br />
                           </ul>
                       </li>
                        <li>
                      <input type="checkbox" id="overrepresented" name="overrepresented"
                             onclick="showLimits('overrepresented_limits', 'overrepresented', 'overrepresented_text')">
                      <label for="overrepresented">Overrepresented sequences</label><br />
                           <ul style="display: none" id="overrepresented_limits">
                               <li>
                                   <label for="overrepresented"><input type="number" value="0.1" step="any"
                                                 class="limits">warning</label>
                               </li><br />
                               <li>
                                   <label for="overrepresented"><input type="number" value="1" step="any"
                                                 class="limits">error</label>
                               </li><br />
                           </ul>
                       </li>
                        <li>
                      <input type="checkbox" id="quality_base" name="quality_base"
                             onclick="showLimits('quality_base_limits', 'quality_base', 'quality_base_text')">
                      <label for="quality_base">Per base sequence quality</label><br />
                           <ul style="display: none" id="quality_base_limits">
                               <li>
                                   <label for="quality_base"><input type="number" value="10" step="any"
                                                 class="limits">warning lower</label>
                               </li><br />
                               <li>
                                   <label for="quality_base"><input type="number" value="5" step="any"
                                                 class="limits">error lower</label>
                               </li><br />
                               <li>
                                   <label for="quality_base"><input type="number" value="25" step="any"
                                                 class="limits">warning median</label>
                               </li><br />
                               <li>
                                   <label for="quality_base"><input type="number" value="20" step="any"
                                                 class="limits">error median</label>
                               </li><br />
                           </ul>
                       </li>
                        <li>
                      <input type="checkbox" id="sequence" name="sequence"
                             onclick="showLimits('sequence_limits', 'sequence', 'sequence_text')">
                      <label for="sequence">Per base sequence content</label><br />
                           <ul style="display: none" id="sequence_limits">
                               <li>
                                   <label for="sequence"><input type="number" value="10" step="any"
                                                 class="limits">warning</label>
                               </li><br />
                               <li>
                                   <label for="sequence"><input type="number" value="20" step="any"
                                                 class="limits">error</label>
                               </li><br />
                           </ul>
                       </li>
                        <li>
                      <input type="checkbox" id="gc_sequence" name="gc_sequence"
                             onclick="showLimits('gc_sequence_limits', 'gc_sequence', 'gc_sequence_text')">
                      <label for="gc_sequence">Per sequence GC sequence</label><br />
                           <ul style="display: none" id="gc_sequence_limits">
                               <li>
                                   <label for="gc_sequence"><input type="number" value="15" step="any"
                                                 class="limits">warning</label>
                               </li><br />
                               <li>
                                   <label for="gc_sequence"><input type="number" value="30" step="any"
                                                 class="limits">error</label>
                               </li><br />
                           </ul>
                       </li>
                        <li>
                      <input type="checkbox" id="quality_sequence" name="quality_sequence"
                             onclick="showLimits('quality_sequence_limits', 'quality_sequence', 'quality_sequence_text')" >
                      <label for="quality_sequence">Per sequence quality score</label><br />
                           <ul style="display: none" id="quality_sequence_limits">
                               <li>
                                   <label for="quality_sequence"><input type="number" value="27" step="any"
                                                 class="limits">warning</label>
                               </li><br />
                               <li>
                                   <label for="quality_sequence"><input type="number" value="20" step="any"
                                                 class="limits">error</label>
                               </li><br />
                           </ul>
                       </li>
                        <li>
                      <input type="checkbox" id="tile" name="tile"
                             onclick="showLimits('tile_limits', 'tile', 'tile_text')">
                      <label for="tile">Per tile sequence quality</label><br />
                           <ul style="display: none" id="tile_limits">
                               <li>
                                   <label for="tile"><input type="number" value="5" step="any"
                                                 class="limits">warning</label>
                               </li><br />
                               <li>
                                   <label for="tile"><input type="number" value="10" step="any"
                                                 class="limits">error</label>
                               </li><br />
                           </ul>
                       </li>
                        <li>
                      <input type="checkbox" id="sequence_length" name="sequence_length"
                             onclick="showLimits('sequence_length_limits', 'sequence_length', 'sequence_length_text')">
                      <label for="sequence_length">Sequence length distribution</label><br />
                           <ul style="display: none" id="sequence_length_limits">
                               <li>
                                   <label for="sequence_length"><input type="number" value="1" step="any"
                                                 class="limits">warning</label>
                               </li><br />
                               <li>
                                   <label for="sequence_length"><input type="number" value="1" step="any"
                                                 class="limits">error</label>
                               </li><br />
                           </ul>
                       </li>
                        <li>
                      <input type="checkbox" id="adapter" name="adapter"
                             onclick="showLimits('adapter_limits', 'adapter', 'adapter_text')">
                      <label for="adapter">Adapter content</label><br />
                           <ul style="display: none" id="adapter_limits">
                               <li>
                                   <label for="adapter"><input type="number" value="5" step="any"
                                                 class="limits">warning</label>
                               </li><br />
                               <li>
                                   <label for="adapter"><input type="number" value="10" step="any"
                                                 class="limits">error</label>
                               </li><br />
                           </ul>
                       </li>
                   </ul>
                       <input type="submit" value="Submit"><br /><br />

               </form>
               <form class="file">
                  <label for="myfile">
                      <input type="file" id="myfile" name="myfile">
                      Select a file:
                  </label>

               </form>
           </div>
           <div class="tool-col2" id="text_block">
               <p id="duplication_text" style="display: none">
                   <iframe src="{{ url_for('duplicate')}}" title="duplicate sequences help"
                           width="100%" height="600px" style="border: none"></iframe>
               </p>
               <p id="kmer_text" style="display: none">
                   <iframe src="{{ url_for('kmer')}}" title="kmer help"
                           width="100%" height="600px" style="border: none"></iframe>
               </p>
               <p id="n_content_text" style="display: none">
                   <iframe src="{{ url_for('ncontent')}}" title="n content help"
                           width="100%" height="600px" style="border: none"></iframe>

               </p>
               <p id="overrepresented_text" style="display: none">
                   <iframe src="{{ url_for('overrepresented')}}" title="overrepresented sequences help"
                           width="100%" height="600px" style="border: none"></iframe>

               </p>
               <p id="quality_base_text" style="display: none">
                   <iframe src="{{ url_for('quality_base')}}" title="Per base sequence quality help"
                           width="100%" height="600px" style="border: none"></iframe>

               </p>
               <p id="sequence_text" style="display: none">
                   <iframe src="{{ url_for('sequence')}}" title="Per sequence quality score help"
                           width="100%" height="600px" style="border: none"></iframe>

               </p>
               <p id="gc_sequence_text" style="display: none">
                   <iframe src="{{ url_for('gc_sequence')}}" title="Per sequence GC content help"
                           width="100%" height="600px" style="border: none"></iframe>

               </p>
               <p id="quality_sequence_text" style="display: none">
                   <iframe src="{{ url_for('quality_sequence')}}" title="Per sequence quality score help"
                           width="100%" height="600px" style="border: none"></iframe>

               </p>
               <p id="tile_text" style="display: none">
                   <iframe src="{{ url_for('tile')}}" title="Per tile sequence quality help"
                           width="100%" height="600px" style="border: none"></iframe>

               </p>
               <p id="sequence_length_text" style="display: none">
                   <iframe src="{{ url_for('sequence_length')}}" title="Sequence lenght distribution help"
                           width="100%" height="600px" style="border: none"></iframe>

               </p>
               <p id="adapter_text" style="display: none">
                   <iframe src="{{ url_for('adapter')}}" title="Adapter content help"
                           width="100%" height="600px" style="border: none"></iframe>

               </p>
           </div>
       </div>
   </section>

<script>


  function showLimits(limit_id, checkbox_id, text_id){
    var limits = document.getElementById(limit_id);
    var checkBox = document.getElementById(checkbox_id);
    var text = document.getElementById(text_id)
      if (checkBox.checked === true){
          const paragraphs = document.getElementsByTagName("p");
          for (let i = 1; i < paragraphs.length; i++){
              paragraphs[i].style.display = "none";
          }
          limits.style.display = "block";
          text.style.display = "block";
          last_one = text_id
    } else {
        limits.style.display = "none";
        text.style.display = "none";
    }
  }

</script>
{% endblock %}
